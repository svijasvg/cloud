var envMinDiff=5,envIsFirefox=navigator.userAgent.indexOf("Firefox")>0;if(envIsFirefox&&""!=getCookie("screenWidth"))var envRealScreenWidth=getCookie("screenWidth");else{var envRealScreenWidth=globalThis.screen.availWidth;setCookie("screenWidth",envRealScreenWidth,7)}if(""==getCookie("screenHeight")){var envRealScreenHeight=globalThis.screen.availHeight;setCookie("screenHeight",envRealScreenHeight,7)}else var envRealScreenHeight=getCookie("screenHeight");var envPrevWidth=zoomedWidth(),envPrevZoom=zoom();if(areDifferent(zoom(),1))var envLoadedZoomed=!0;else var envLoadedZoomed=!1;var rawPixel=zoomedWidth()/visible_width,aiPixel=rawPixel*zoom();document.documentElement.style.fontSize=aiPixel+"px";var resizeListener=window.addEventListener("resize",resize),left_margin_px=page_offsetx*aiPixel,top_margin_px=page_offsety*aiPixel,envXinit=Math.round(left_margin_px),envYinit=Math.round(top_margin_px);function zoomedWidth(){return globalThis.innerWidth}function setScroll(){if(envLoadedZoomed)return!0;window.scrollTo(envXinit,envYinit)}function areDifferent(e,i){return Math.round(100*Math.abs(e-i))>envMinDiff}function zoom(){globalThis.screen.availWidth==envRealScreenHeight&&(envRealScreenHeight=globalThis.screen.availHeight,envRealScreenWidth=globalThis.screen.availWidth);var e=envRealScreenWidth;if(e==globalThis.screen.availWidth)var i=globalThisOuterWidth()/zoomedWidth();else var i=e/globalThis.screen.availWidth;return areDifferent(i,1)||(i=1),i}function pctDifferent(e,i){return Math.round(100*Math.abs(e-i))}function resize(){if(!pageLoaded)return!0;var e=1;return zoomedWidth()==envPrevWidth||(globalThis.innerWidth!=envRealScreenHeight?e=zoom():console.log("iPhone rotated to landscape"),aiPixel=zoomedWidth()/visible_width*e,document.documentElement.style.fontSize=aiPixel+"px",envPrevWidth=zoomedWidth(),!0)}function globalThisOuterWidth(){var e;return window.innerWidth==envRealScreenHeight?window.innerWidth:globalThis.outerWidth==envRealScreenHeight?window.innerWidth:globalThis.outerWidth}setScroll(),setTimeout(setScroll,1);